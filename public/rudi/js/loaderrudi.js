"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _get(e,t,i){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var o=_superPropBase(e,t);if(o){var n=Object.getOwnPropertyDescriptor(o,t);return n.get?n.get.call(i):n.value}})(e,t,i||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,i){return t&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),e}!function(){var o=function(){function e(){_classCallCheck(this,e),this.youtubeLoadFlag=!1,this.youtubeInitFlag=!1,this.player={},this.loadflg=!1}return _createClass(e,[{key:"setMovie",value:function(e){!1===this.youtubeInitFlag?this.initPlayer(e):this.loadMovie(e)}},{key:"initPlayer",value:function(e){var t=this;$.ajax({url:"https://www.youtube.com/player_api/",dataType:"script"}).done(function(){window.onYouTubeIframeAPIReady=function(){t.youtubeInitFlag=!0,t.loadMovie(e)}})}},{key:"loadMovie",value:function(e){var t=e.playerID;this.player[t]?(this.player[t].cueVideoById(e.movieId),this.player[t].mute(),this.player[t].playVideo(),this.player[t].unMute()):this.player[t]=new YT.Player(t,{width:e.width,height:e.height,videoId:e.movieId,playerVars:e.playerVars,events:e.events})}},{key:"pauseMovie",value:function(e){this.player[e]&&this.player[e].pauseVideo()}}]),e}(),i=function(){function t(e){_classCallCheck(this,t),this.imglist=[],this.$imgs=e.$loadimg,this.$loading=e.$loading,this.$icon=e.$icon,this.$progress=e.$progress}return _createClass(t,[{key:"loading",value:function(t){for(var e,i,o=this,n=this.$imgs.length-1,s=0,r="",a="",l=0;l<=n;l++)r=(e=this.$imgs.eq(l)).data("imgload"),a=e.data("imgalt"),this.imglist[l]=new Image,this.imglist[l].onload=function(){s++},this.imglist[l].src=r,a&&(this.imglist[l].alt=a);var c=0,u=0,h=this.$icon.height(),p=setInterval(function(){if((u=Math.floor(s/n*100))<100?(o.$icon.css("clip","rect("+(h-u)+"px, 60px, 100px, 0px)"),o.$progress.text(u+"%")):(o.$icon.css("clip","rect(0px, 60px, 100px, 0px)"),o.$progress.text("100%")),n<=s||100==c){clearInterval(p),100==c&&(o.$icon.css("clip","rect(0px, 60px, 100px, 0px)"),o.$progress.text("100%"),console.log("Timeout."));for(var e=0;e<=n;e++)(i=o.$imgs.eq(e)).hasClass("is_background")?i.css("background-image",'url("'+$(o.imglist[e]).attr("src")+'")'):i.append($(o.imglist[e]));setTimeout(function(){o.$icon.addClass("is_complete"),setTimeout(function(){o.$loading.addClass("is_hide"),t&&t()},1300)},500)}c++},50)}}]),t}(),t=function(){function t(e){_classCallCheck(this,t),this.$loadimg=$(e.$loadimg),this.$loading=$(e.$loading),this.$icon=$(e.$icon),this.$progress=$(e.$progress),this.$nav=$(e.$nav),this.$navWrap=$(e.$navWrap)}return _createClass(t,[{key:"smoothscroll",value:function(e,t){var i=e.attr("href"),o=$(i).offset().top;$("body,html").animate({scrollTop:o},t,"swing")}},{key:"imgload",value:function(e){new i({$loadimg:this.$loadimg,$loading:this.$loading,$icon:this.$icon,$progress:this.$progress}).loading(e)}}]),t}(),c=function(e){function i(e){var t;return _classCallCheck(this,i),(t=_possibleConstructorReturn(this,_getPrototypeOf(i).call(this,e))).$loading=$(e.$loading),t.$pagetop=$(e.$pagetop),t.$container=$(e.$container),t.$win=$(e.$win),t.$tw_header=$(e.$tw_header),t.$tw_body=$(e.$tw_body),t.$tw_footer=$(e.$tw_footer),t.$hero=$(e.$hero),t.$heroimg=$(e.$heroimg),t.moviePlayer=new o,t}return _inherits(i,t),_createClass(i,[{key:"initPlayer",value:function(e){this.moviePlayer.setMovie(e)}},{key:"pausePlayer",value:function(e){this.moviePlayer.pauseMovie(e)}},{key:"changeTwitterWidgetDesign",value:function(){var e=this,t=$("iframe.twitter-timeline"),i=t.contents();0<t.length&&""!==t[0].contentWindow.document.body.innerHTML?(i.find("head").append("<style>.timeline-Widget {width: 85%;margin: 0 auto;background-color: transparent;}.timeline-InformationCircle-widgetParent, .timeline-Footer {display: none;}.timeline-Body {border: none;}.timeline-Viewport {height: 100% !important;}.timeline-Viewport::-webkit-scrollbar{width: 10px;}.timeline-Viewport::-webkit-scrollbar-track{background-color: transparent;border-left: none;}.timeline-Viewport::-webkit-scrollbar-thumb{background: #fff;border-radius: 2px;}.timeline-Tweet {transition: .3s;}.timeline-Tweet:hover {opacity: .7; background-color: transparent;}.SandboxRoot.env-bp-min .timeline-ShowMoreButton--edge {width: 150px;} .SandboxRoot.env-bp-min .timeline-Tweet-text, .TweetAuthor-name {color: #230a00e;font-size: 15px;}.SandboxRoot .timeline-Tweet-text {font-size: 15px !important;} .timeline-Tweet-author {margin-bottom: 20px;} .timeline-Tweet-text {margin-left: 0;}.timeline-Tweet-media {margin-left: 0;}</style>"),this.changeTwitterH()):setTimeout(function(){e.changeTwitterWidgetDesign(),e.changeTwitterH()},350)}},{key:"slider",value:function(){$(".js_slider").slick({autoplay:!1,speed:1e3,autoplaySpeed:3e3,fade:!0,arrows:!1}).on("beforeChange",function(e,t,i,o){$(".js_keyvisual").removeClass("is_active"),$(".js_keyvisual").eq(o).addClass("is_active")})}},{key:"kvchenge",value:function(e){$(".js_keyvisual").removeClass("is_active"),e.addClass("is_active");var t=e.index();$(".js_slider").slick("slickGoTo",t,!1)}},{key:"changeTwitterH",value:function(){var e=this.$tw_header.height()+this.$tw_footer.height();this.$tw_body.css("height","calc(100% - "+e+"px)")}},{key:"changehero",value:function(e){var t=$(".js_"+e.attr("id"));$(".js_heroimg").removeClass("is_show"),t.addClass("is_show"),e.hasClass("is_active")||($(".js_keyvisual").removeClass("is_active"),e.addClass("is_active"))}},{key:"mouseanimetion",value:function(e){var t=$(".js_hero").height(),i=$(".js_heroimg").height(),o=t/2,n=(e.pageY-o)/o*100,s=(i-t)/100,r=(i/2-Math.floor(n*s/2))/i*100;$(".js_heroimg").css("transform","translateY("+r+"%)")}},{key:"mouseoutanimation",value:function(){$(".js_heroimg").css("transform","translateY(50%)")}},{key:"init",value:function(){var e=this;this.slider(),_get(_getPrototypeOf(i.prototype),"imgload",this).call(this,function(){e.changeTwitterWidgetDesign(),setTimeout(function(){$(".js_heroscroll").addClass("is_hide"),setTimeout(function(){$(".js_slider").slick("slickSetOption","autoplay",!0,!0)},50)},2e3)})}}]),i}();$(function(){var i=new c({$loadimg:".js_imgload",$loading:"#js_loading",$icon:"#js_loading_icon",$progress:"#js_loading_progress",$pagetop:"#js_pagetop",$container:"#js_container",$win:window,$hero:".js_hero",$tw_header:".js_twitter_header",$tw_body:".js_twitter_body",$tw_footer:".js_twitter_footer",$heroimg:".js_heroimg"});i.init();var o,n=$(".js_modal"),t=$(".js_modal_img"),s=$(".js_modal_btn"),r=$(".js_modal_mov"),a=$(window),l=$(".js_container");n.addClass("is_opacity"),$(".js_moviebtn").on("click",function(e){var t=$(e.currentTarget);return r.addClass("is_show"),o=a.scrollTop(),l.css({position:"fixed",width:"100%",top:-1*o}),i.initPlayer({playerID:"js_movieplayer",movieId:t.data("movieid"),width:768,height:432,playerVars:{autoplay:1,playsinline:1,autohide:0,controls:1,modestbranding:1,enablejsapi:1,showinfo:0,rel:0,wmode:"transparent"},events:{onReady:function(e){e.target.mute(),e.target.playVideo()}}}),setTimeout(function(){n.addClass("is_show")},100),!1}),$(document).on("click",".js_modal_close",function(e){return n.removeClass("is_show"),$(e.currentTarget).hasClass("is_mov")&&i.pausePlayer("js_movieplayer"),l.attr({style:""}),$("html, body").prop({scrollTop:o}),setTimeout(function(){r.removeClass("is_show"),t.removeClass("is_show"),s.removeClass("is_show is_img"),$(".js_modal_close").removeClass("is_img"),t.empty()},300),!1}),$(".js_heroimg").css("transform","translateY(50%)");var e=$(".js_hero");e.mousemove(function(e){i.mouseanimetion(e)}),e.mouseout(function(){i.mouseoutanimation()}),$(".js_keyvisual").on("click",function(){var e=$(this);i.kvchenge(e)}),$("#js_pagetop").on("click",function(){var e=$(this);i.smoothscroll(e,400)}),a.on("resize",function(){i.changeTwitterH()})})}();